<div class="background">
  <mat-toolbar color="primary">
    <span>Streaming.tv</span>
    <span class="example-spacer"></span>
    <mat-divider [vertical]="true"></mat-divider>
    <button mat-flat-button color="warn" (click)="salirAjustes()">SALIR DE AJUSTES</button>
    <button class="incon" [matMenuTriggerFor]="menu" style="cursor: pointer; margin-left: 10px">
      {{perfil.nombre?.charAt(0)}}
    </button>
    <h2 style="cursor: pointer; margin-left: 5px" [matMenuTriggerFor]="menu">{{perfil.nombre}}</h2>
    <mat-menu #menu="matMenu" class="custom-class">
      <button mat-menu-item (click)="ajustesusuario()"><h1>Ajustes</h1></button>
      <button mat-menu-item (click)="cambiardeperfil()"><h1>Cambiar de perfil</h1></button>
      <button mat-menu-item (click)="cerrarSesion()"><h1>Cerrar Sesion</h1></button>
    </mat-menu>
  </mat-toolbar>
  <div class="ajustes">
    <br>
    <span>Ajustes</span>
    <br><br>
    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          CONFIGURAR DATOS DE LA CUENTA
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-card class="example-card">
        <form [formGroup]="formGroup">
          <mat-card-header>
            <mat-card-title>DATOS DEL USUARIO</mat-card-title>
            <span class="example-spacer"></span>
            <button mat-icon-button (click)="edituser = !edituser">
              <mat-icon>edit</mat-icon>
            </button>
          </mat-card-header>
          <mat-card-content>
            <mat-divider [inset]></mat-divider>
            <br>
            <mat-form-field class="example-full-width" appearance="outline">
              <mat-label>Correo</mat-label>
              <input matInput placeholder="example@gmail.com" formControlName="correo" [readonly]="edituser">
            </mat-form-field>
            <mat-form-field class="example-full-width" appearance="outline">
              <mat-label>Clave</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="clave" [readonly]="edituser">
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                      [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </mat-card-content>
          <mat-card-actions [align]="'end'">
            <button mat-flat-button color="primary" [disabled]="formGroup.invalid || edituser" (click)="guardarUsuario()">GUARDAR</button>
          </mat-card-actions>
        </form>
      </mat-card>
    </mat-expansion-panel>
    <br>
    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          CAMBIAR DE PLAN
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-card class="example-card">
        <form [formGroup]="formGroup1">
          <mat-card-header>
            <mat-card-title>SELECCIONE UN PLAN</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-divider [inset]></mat-divider>
            <br>
            <mat-radio-group
              aria-labelledby="example-radio-group-label"
              class="example-radio-group"
              formControlName="idplan">
              <mat-radio-button class="example-radio-button" *ngFor="let plan of listaPlan" [value]="plan.idplan">
                {{plan.tipo}}: Puede crear hasta {{plan.numpefil}} perfiles.
              </mat-radio-button>
            </mat-radio-group>
          </mat-card-content>
          <mat-card-actions [align]="'end'">
            <button mat-flat-button color="primary" [disabled]="formGroup1.invalid" (click)="guardarPlan()">GUARDAR</button>
          </mat-card-actions>
        </form>
      </mat-card>
    </mat-expansion-panel>
    <br>
    <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          ACERCA DE:
        </mat-panel-title>
      </mat-expansion-panel-header>
      <h4>Streaming.tv es la nueva plataforma de streaming que reúne todos los contenidos de EXISTENTES junto con aún
        más éxitos de taquilla, series generadoras de obsesión y exclusivos.</h4>
    </mat-expansion-panel>
  </div>


</div>
